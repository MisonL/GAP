# GAP 环境配置示例
# 复制此文件为 .env 并根据需要修改配置

# 🚀 基本配置
# 应用环境和调试模式
DEBUG=false
LOG_LEVEL=INFO

# 🔐 安全配置
# JWT 密钥 - 必须设置强随机字符串 (生产环境务必更改!)
SECRET_KEY=your_very_strong_random_secret_key_here_change_in_production
JWT_SECRET_KEY=your_jwt_secret_key_here_change_in_production

# 🗄️ 数据库配置
# 推荐使用 PostgreSQL，开发环境可以使用 SQLite
DATABASE_URL=postgresql://user:password@localhost:5432/gap_dev
# DATABASE_URL=sqlite:///./gap.db  # 开发环境 SQLite

# 🔴 Redis 缓存配置
# Redis 用于缓存和会话存储
REDIS_URL=redis://localhost:6379/0

# 🔑 Gemini API 配置
# 至少需要一个 Gemini API Key，多个用逗号分隔
GEMINI_API_KEY=your_gemini_api_key_1,your_gemini_api_key_2

# 👤 管理员配置
# 可选的管理员 API Key
ADMIN_API_KEY=your_admin_api_key_here

# 🔒 认证配置
# Web UI 登录密码，支持多个密码用逗号分隔
PASSWORD=your_web_ui_password_1,your_web_ui_password_2

# 📊 功能开关
# 启用原生缓存功能
ENABLE_NATIVE_CACHING=true

# 启用上下文补全功能
ENABLE_CONTEXT_COMPLETION=true

# 禁用安全过滤（谨慎开启）
DISABLE_SAFETY_FILTERING=false

# 🚦 速率限制
# 每分钟最大请求数
MAX_REQUESTS_PER_MINUTE=60

# 每天 IP 最大请求数
MAX_REQUESTS_PER_DAY_PER_IP=600

# 🗄️ 存储模式配置
# 可选: memory, database
# memory: 内存存储，重启后数据丢失
# database: 数据库持久化存储
KEY_STORAGE_MODE=database
CONTEXT_STORAGE_MODE=database

# 🌐 服务器配置
# 服务器监听地址和端口
HOST=0.0.0.0
PORT=8000

# 🏷️ 应用信息
# 应用名称和版本
APP_NAME=GAP
APP_VERSION=1.8.1

# 📡 外部服务配置
# 错误追踪服务（可选）
# SENTRY_DSN=your_sentry_dsn_here

# 📊 监控和分析
# 是否启用 API 文档
ENABLE_DOCS=true

# 是否启用性能监控
ENABLE_METRICS=true

# 🧪 测试环境配置
# 测试模式（通常为 false）
TESTING=false

# 测试数据库 URL
# TEST_DATABASE_URL=sqlite:///./test_gap.db

# 🌍 国际化配置
# 默认语言和时区
DEFAULT_LANGUAGE=zh-CN
DEFAULT_TIMEZONE=Asia/Shanghai

# 📝 日志配置
# 日志文件路径（可选）
# LOG_FILE=/var/log/gap/app.log

# 日志轮转和保留
# LOG_MAX_SIZE=100MB
# LOG_BACKUP_COUNT=5

# 🚀 高级配置
# 工作进程数（生产环境）
WORKERS=4

# 连接池大小
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30

# 请求超时时间（秒）
REQUEST_TIMEOUT=300

# 缓存过期时间（秒）
CACHE_TTL=3600

# 🔧 开发特定配置（仅开发环境）
# 热重载
HOT_RELOAD=true

# 自动重启
AUTO_RELOAD=true

# 详细的 API 调试日志
# DEBUG_API_LOGS=true

# 📦 包管理配置（使用 UV 时不需要修改）
# 这些配置由 UV 和 pyproject.toml 管理